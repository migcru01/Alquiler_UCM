# 10. Plan de Pruebas

## Tipos de pruebas
Pruebas Unitarias
Las pruebas unitarias validan el funcionamiento aislado de funciones, clases y componentes. 
Validación de datos (emails, formatos, contraseñas).
Lógica de permisos según roles.
Cálculo de precios, disponibilidades y filtros.
Procesamiento de formularios.
Transformación de datos y serialización.

Identificador
Objetivo
UNI-01
Verificar que el mail de alumno es del dominio @ucm.es.
UNI-02
Verificar que el formato de los mails es válido.
UNI-03
Probar que se rechazan las contraseñas demasiado simples.
UNI-04
Probar que detecta cuando las contraseñas no coinciden.
UNI-05
Probar que una inmobiliaria no aprobada no puede publicar un anuncio.
UNI-06
Probar que una inmobiliaria 'aprobada' puede publicar un anuncio.
UNI-07
Verificar que se rechazan precios negativos o cero.
UNI-08
Comprobar que acepta precios positivos.
UNI-09
Probar que acepta rangos de fechas correctos (desde < hasta).
UNI-10
Verificar que rechaza rangos de fechas invertidos (desde > hasta).
UNI-11
Probar que devuelve false si se supera el máximo permitido de resultados.
UNI-12
Probar que el filtro por rango de precios devuelve elementos en el rango.
UNI-13
Verificar que el filtro por zona devuelve solo habitaciones de la zona indicada.
UNI-14
Comprobar ordenación ascendente por precio.
UNI-15
Comprobar ordenación descendente por precio.
UNI-16
Verificar el cálculo correcto del número de páginas en paginación.
UNI-17
Verificar que se rechazan mensajes demasiado cortos.
UNI-18
Comprobar que se rechazan mensajes excesivamente largos.
UNI-19
Probar que no se duplican favoritos al añadir una habitación ya existente.
UNI-20
Verificar eliminación correcta de una habitación de favoritos.


Pruebas de Integración
Estas pruebas validan que los diferentes módulos funcionen correctamente entre sí. Se centran en puntos de comunicación entre componentes.
Registro de inmobiliarias y su validación por parte del administrador UCM.
Creación de inmuebles y habitaciones y su disponibilidad en el buscador.
Comunicación entre estudiantes e inmobiliarias mediante mensajes.
Actualización del estado de anuncios y su reflejo en la interfaz del usuario.
Interacción con servicios externos (geocodificación, envío de emails, etc.).

Identificador
Objetivo
INT-01
Verificar la integración entre el módulo de registro, la base de datos de usuarios y el sistema de autenticación.
INT-02
Comprobar que el registro de inmobiliaria crea tanto el registro de empresa como el usuario de acceso asociado.
INT-03
Verificar la integración entre módulo de recuperación/cambio de contraseña y autenticación.
INT-04
Validar que tras el registro, el sistema asigna el rol correcto al usuario y lo utiliza en la capa de autorización.
INT-05
Verificar que una inmobiliaria recién registrada aparece correctamente en el listado de pendientes del panel administrador.
INT-06
Comprobar que al aprobar una inmobiliaria, cambia su estado y eso habilita la publicación de anuncios.
INT-07
Verificar que al bloquear una inmobiliaria, esta no puede seguir publicando o editando anuncios.
INT-08
Comprobar el comportamiento del sistema cuando se elimina o desactiva una inmobiliaria con anuncios asociados.
INT-13
Verificar la integración entre el formulario de búsqueda y las consultas a la base de datos.
INT-14
Verificar que el sistema soporta simultáneamente varios filtros combinados.
INT-15
Comprobar que el cambio de criterio de ordenación en el frontend afecta correctamente al resultado mostrado.
INT-16
Verificar la integración entre backend (cálculo de páginas/límites) y frontend (navegación entre páginas).
INT-17
Verificar la integración entre el formulario de contacto, el backend y la BD de mensajes.
INT-18
Comprobar que los mensajes enviados por estudiantes aparecen correctamente en el panel de la inmobiliaria.
INT-19
Verificar la integración entre el sistema de mensajes y el servicio de correo electrónico.
INT-20
Probar la integración entre el módulo de favoritos, BD y vista de listado.
INT-21
Verificar que cuando una habitación marcada como favorita cambia de estado a ocupada o se elimina, se refleja correctamente en la lista de favoritos.


Pruebas de Sistema
Las pruebas de sistema validan el funcionamiento completo de la plataforma desde la perspectiva del usuario final.
Registro completo de usuarios de todos los roles.
Publicación y gestión de anuncios por las inmobiliarias.
Uso del buscador y aplicación de filtros avanzados por estudiantes.
Envío de mensajes y comprobación de la recepción por inmobiliarias.
Gestión de favoritos 
Navegación general, carga de páginas y comportamiento general del sistema.

Identificador
Objetivo
PS-01
Validar el flujo completo de registro e inicio de sesión de un estudiante con correo UCM.
PS-02
Comprobar que el sistema impide el registro con correos no institucionales.
PS-03
Validar que una inmobiliaria queda registrada y marcada como pendiente de aprobación.
PS-04
Comprobar que al aprobar una inmobiliaria, esta puede publicar anuncios.
PS-05
Validar que una inmobiliaria puede crear un inmueble y una habitación asociada correctamente.
PS-06
Probar que el buscador devuelve resultados correctos según filtros.
PS-07
Validar que la ficha de detalle muestra toda la información relevante.
PS-08
Validar el flujo completo de contacto estudiante → inmobiliaria.
PS-09
Comprobar que la inmobiliaria puede ver los mensajes enviados por estudiantes.
PS-10
Verificar que el sistema gestiona correctamente los favoritos de un estudiante.
PS-11
Validar que una habitación ocupada deja de estar disponible en las búsquedas y afecta a favoritos.
PS-12
Comprobar que solo el admin UCM puede acceder al panel de administración.
PS-13
Validar que una inmobiliaria puede editar un anuncio existente y que los cambios se reflejan en el buscador y en la ficha.
PS-14
Comprobar el comportamiento del sistema cuando una habitación se elimina pero alguien intenta acceder vía URL directa.
PS-15
Verificar que, tras cerrar sesión, el usuario no puede acceder a áreas privadas usando el botón “Atrás” del navegador o URLs directas.


Pruebas de aceptación
Las pruebas de aceptación son realizadas por usuarios reales: estudiantes, inmobiliarias y personal de la UCM. Evalúan si el sistema satisface las necesidades operativas.
Validación del panel del administrador UCM.
Verificación de que inmobiliarias pueden publicar anuncios sin dificultades.
Prueba de experiencia real de búsqueda por parte de estudiantes.
Prueba completa de contacto y comunicación.
Verificación de que el sistema es intuitivo y apto para ser puesto en producción.

Identificador
Objetivo
ACP-01
Validar que el proceso de alta y aprobación de una inmobiliaria es claro, sencillo y gestionable por UCM.
ACP-02
Confirmar que una inmobiliaria aprueba el flujo de publicación de una habitación y lo ve fácil de usar.
ACP-03
Validar que un estudiante encuentra habitaciones adecuadas con facilidad usando el buscador.
ACP-04
Comprobar que estudiantes e inmobiliarias perciben la ficha de habitación como completa, clara y útil.
ACP-05
Verificar que el flujo de contacto entre estudiante e inmobiliaria es comprensible y efectivo.
ACP-06
Evaluar si el sistema de favoritos es útil para que el estudiante gestione sus opciones.
ACP-07
Comprobar que el personal UCM puede revisar y moderar el contenido publicado.
ACP-08
Asegurar que los usuarios entienden bien el proceso de entrar y salir del sistema y reconocer su rol.
ACP-09
Simular un escenario real completo de un estudiante buscando piso para el curso académico y evaluar su satisfacción global.
ACP-10
Simular el uso real de la plataforma por parte de una inmobiliaria que quiere ofrecer habitaciones a estudiantes UCM.





## Estrategia y criterios de validación
ACP-01 – Alta y aprobación de inmobiliaria colaboradora
Objetivo:
Validar que el proceso de alta y aprobación de una inmobiliaria es claro, sencillo y gestionable por UCM.
Perfil implicado:
Comercial de una inmobiliaria real
Administrador UCM
Precondiciones:
La inmobiliaria aún no está registrada en la plataforma.
Pasos:
El comercial accede a la plataforma y rellena el formulario de “Registrarse como inmobiliaria”.
Envía la solicitud.
El administrador UCM entra en el panel de administración.
Revisa los datos de la inmobiliaria.
Acepta o rechaza la solicitud.
Criterios de aceptación:
El comercial entiende fácilmente qué datos debe aportar.
La inmobiliaria aparece en el panel de UCM como “pendiente” tras el registro.
El admin UCM puede aprobar o rechazar con un par de clics.
El comercial recibe una notificación clara de la decisión (aprobado/rechazado).
Ambos (inmobiliaria y UCM) consideran el flujo entendible y manejable sin formación técnica.

 ACP-02 – Publicación de habitación por inmobiliaria aprobada
Objetivo:
Confirmar que una inmobiliaria aprueba el flujo de publicación de una habitación y lo ve fácil de usar.
Perfil implicado:
Comercial de inmobiliaria aprobada
Precondiciones:
La inmobiliaria ya está aprobada y puede iniciar sesión.
Pasos:
El comercial inicia sesión.
Accede a la sección “Publicar inmueble/habitación”.
Introduce los datos necesarios (dirección, precio, tipo, fechas, descripción).
Sube fotos.
Publica el anuncio.
Criterios de aceptación:
El comercial comprende sin ayuda qué campos son obligatorios.
En ningún momento se pierde ni siente el proceso “complicado”.
Al finalizar, puede ver el anuncio publicado en su listado de anuncios.
La inmobiliaria considera que podría repetir el proceso en el día a día sin soporte técnico.

 ACP-03 – Búsqueda de alojamiento por parte de un estudiante
Objetivo:
Validar que un estudiante encuentra habitaciones adecuadas con facilidad usando el buscador.
Perfil implicado:
Estudiante UCM (usuario real de destino)
Precondiciones:
Existen varias habitaciones publicadas con diferentes rangos de precio y zonas.
El estudiante tiene cuenta activa.
Pasos:
El estudiante inicia sesión.
Accede al buscador principal.
Introduce un rango de precio acorde a su presupuesto.
Selecciona una zona cercana al campus donde estudia.
Lanza la búsqueda y revisa resultados.
Abre algunas fichas de detalle.
Criterios de aceptación:
El estudiante declara entender el buscador sin instrucciones adicionales.
La lista de resultados le parece coherente con los filtros aplicados.
Es capaz de localizar al menos 2–3 opciones razonables según su perfil.
Valora el proceso como “claro” o “muy claro” en una breve encuesta.

 ACP-04 – Entendimiento y uso de la ficha de la habitación
Objetivo:
Comprobar que estudiantes e inmobiliarias perciben la ficha de habitación como completa, clara y útil.
Perfil implicado:
Estudiante UCM
Comercial de inmobiliaria
Precondiciones:
Existen habitaciones con descripción, fotos y datos bien rellenos.
Pasos:
El estudiante abre una ficha de habitación desde el buscador.
Lee la información, revisa fotos y precio.
El comercial revisa cómo se muestra la información que él mismo introdujo.
Criterios de aceptación:
El estudiante entiende: precio, condiciones, ubicación aproximada y fechas de disponibilidad sin dudas.
El comercial considera que la información está bien presentada y representa fielmente el anuncio.
Ambos confirman que la ficha tiene todo lo necesario para tomar una decisión inicial.

 ACP-05 – Contacto estudiante - inmobiliaria
Objetivo:
Verificar que el flujo de contacto entre estudiante e inmobiliaria es comprensible y efectivo.
Perfil implicado:
Estudiante UCM
Comercial de inmobiliaria
Precondiciones:
Estudiante con sesión iniciada.
Habitación activa publicada por la inmobiliaria.
Pasos:
El estudiante entra en la ficha de una habitación que le interesa.
Pulsa en “Contactar” o “Solicitar información”.
Escribe un mensaje en lenguaje natural.
Envía la solicitud.
El comercial inicia sesión en su panel y revisa la sección de mensajes/solicitudes.
Criterios de aceptación:
El estudiante siente que el botón de contacto es visible y fácil de encontrar.
El mensaje aparece en el panel de la inmobiliaria sin errores.
El comercial identifica fácilmente de qué anuncio y qué estudiante se trata.
Ambos valoran el proceso como “intuitivo”.

 ACP-06 – Gestión de favoritos por parte de estudiantes
Objetivo:
Evaluar si el sistema de favoritos es útil para que el estudiante gestione sus opciones.
Perfil implicado:
Estudiante UCM
Precondiciones:
Estudiante autenticado.
Varias habitaciones activas y visibles en el buscador.
Pasos:
El estudiante realiza una búsqueda.
Marca varias habitaciones como favoritas.
Accede posteriormente a la sección “Mis favoritos”.
Revisa la lista y elimina alguna opción de la lista.
Criterios de aceptación:
El estudiante entiende el icono/botón de “favorito”.
Las habitaciones que marca aparecen en su lista sin retrasos extraños.
Puede eliminar una habitación de favoritos sin confundirse.
Percibe la funcionalidad como útil para organizar sus posibles alojamientos.

 ACP-07 – Supervisión de anuncios por parte de UCM
Objetivo:
Comprobar que el personal UCM puede revisar y moderar el contenido publicado.
Perfil implicado:
Administrador / personal UCM
Precondiciones:
Existen varias inmobiliarias y anuncios publicados.
Pasos:
El administrador inicia sesión.
Accede al panel de anuncios.
Filtra por inmobiliaria, zona u otro criterio.
Revisa el detalle de uno o más anuncios.
Decide bloquear o marcar como problemático un anuncio.
Criterios de aceptación:
El admin UCM puede localizar fácilmente anuncios potencialmente problemáticos.
El proceso para bloquear o despublicar un anuncio es directo.
Tras bloquear, el anuncio deja de estar visible para estudiantes.
El personal UCM tiene sensación de control razonable sobre el contenido.

 ACP-08 – Facilidad de login / logout y cambio de perfil
Objetivo:
Asegurar que los usuarios entienden bien el proceso de entrar y salir del sistema y reconocer su rol.
Perfil implicado:
Estudiante UCM
Comercial de inmobiliaria
Admin UCM
Precondiciones:
Cuentas creadas para los tres tipos de usuario.
Pasos:
Cada usuario accede a la pantalla de login e introduce sus credenciales.
Una vez dentro, comprueba si reconoce claramente qué tipo de usuario es por la interfaz (menús, etiquetas).
Pulsa en “Cerrar sesión”.
Intenta volver atrás en el navegador o acceder a una URL privada.
Criterios de aceptación:
Los tres usuarios saben en todo momento con qué rol están conectados.
El proceso de login y logout se percibe sencillo.
Tras cerrar sesión, ninguno puede acceder a contenido privado sin volver a autenticarse.
Ninguno manifiesta confusión sobre cómo salir de la plataforma.

 ACP-09 – Experiencia general de uso para un estudiante (escenario “busco piso para el curso”)
Objetivo:
Simular un escenario real completo de un estudiante buscando piso para el curso académico y evaluar su satisfacción global.
Perfil implicado:
Estudiante UCM (idealmente alguien que realmente necesita alojamiento).
Precondiciones:
Plataforma con datos representativos de habitaciones y zonas.
Pasos (a alto nivel):
El estudiante se registra (si no tiene cuenta) e inicia sesión.
Define sus filtros principales (precio, zona, tipo de habitación).
Realiza varias búsquedas a lo largo de 10–15 minutos.
Abre fichas de diferentes habitaciones.
Marca algunas como favoritas.
Contacta al menos con una inmobiliaria.
Criterios de aceptación:
El estudiante entiende el flujo completo sin necesidad de guía detallada.
Encuentra al menos 1–2 opciones que considere viables.
No se enfrenta a errores graves ni bloqueos.
En una breve encuesta final, valora su experiencia global con una nota.

 ACP-10 – Experiencia general de uso para una inmobiliaria (escenario “quiero captar estudiantes”)
Objetivo:
Simular el uso real de la plataforma por parte de una inmobiliaria que quiere ofrecer habitaciones a estudiantes UCM.
Perfil implicado:
Comercial de inmobiliaria colaboradora.
Precondiciones:
Inmobiliaria con cuenta aprobada.
Pasos (a alto nivel):
Iniciar sesión como inmobiliaria.
Publicar al menos un nuevo anuncio de habitación.
Revisar anuncios ya publicados y actualizar uno (precio, descripción o fotos).
Consultar posibles mensajes de estudiantes interesados.
Responder a un mensaje o tomar contacto externo con un estudiante.
Criterios de aceptación:
El comercial entiende cómo publicar y editar anuncios sin formación adicional.
Encuentra la sección de mensajes fácilmente.
Siente que la plataforma le facilita el acceso a estudiantes UCM.
En una valoración final indica que podría usar esta herramienta en su trabajo diario.


## Herramientas de testing

